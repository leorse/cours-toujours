<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Cours Toujours!{% endblock %}</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="/static/css/style.css">

    <!-- Libraries (Loaded via CDN for simplicity) -->

    <!-- KaTeX for Math -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    <!-- Marked for Markdown -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <!-- Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>

    {% block head %}{% endblock %}
</head>

<body>
    <div class="container">
        <nav class="navbar glass" style="padding: 1rem 2rem;">
            <a href="/" class="logo">Cours Toujours!</a>
            {% if user %}
            <div class="user-snippet">
                <div class="user-avatar-small">{{ user.username[0].upper() }}</div>
                <span>{{ user.username }} <small class="text-muted">(Lvl {{ (user.total_xp // 100) + 1
                        }})</small></span>
                <a href="/logout" style="font-size: 0.8rem; color: var(--text-muted); margin-left:1rem;">DÃ©connexion</a>
            </div>
            {% endif %}
        </nav>

        <main id="main-content">
            {% block content %}{% endblock %}
        </main>
    </div>

    {% block scripts %}{% endblock %}
</body>

</html>